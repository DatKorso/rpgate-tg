# Инструкция по настройке бота

## Шаг 1: Получение токена Telegram бота

1. Откройте Telegram и найдите [@BotFather](https://t.me/botfather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям:
   - Введите имя бота (например, "My GM Bot")
   - Введите username бота (должен заканчиваться на `bot`, например, `my_gm_bot`)
4. Скопируйте полученный токен (выглядит как `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`)

## Шаг 2: Получение API ключа OpenRouter

1. Перейдите на [OpenRouter](https://openrouter.ai/)
2. Зарегистрируйтесь или войдите
3. Перейдите в [Keys](https://openrouter.ai/keys)
4. Создайте новый API ключ
5. Скопируйте ключ (выглядит как `sk-or-v1-...`)

## Шаг 3: Настройка .env файла

1. Откройте файл `.env` в корне проекта
2. Замените значения на свои:

```env
TELEGRAM_BOT_TOKEN=ВАШ_ТОКЕН_ОТ_BOTFATHER
OPENROUTER_API_KEY=ВАШ_КЛЮЧ_ОТ_OPENROUTER
SITE_URL=http://localhost:8000
LLM_MODEL=x-ai/grok-4-fast
```

## Шаг 4: Запуск бота

```bash
uv run python -m app.main
```

или короткий вариант:

```bash
uv run start
```

## Проверка работы

1. Найдите вашего бота в Telegram по username
2. Отправьте команду `/start`
3. Бот должен ответить приветственным сообщением
4. Попробуйте отправить любое сообщение - бот ответит через LLM

## Доступные команды

- `/start` - Начать диалог с ботом
- `/help` - Показать список команд
- `/ping` - Проверить, что бот онлайн
- `/reset` - Очистить историю диалога

## Возможные проблемы

### Ошибка "Failed to load settings"

Проверьте, что:
1. Файл `.env` существует в корне проекта
2. В нём указаны `TELEGRAM_BOT_TOKEN` и `OPENROUTER_API_KEY`

### Бот не отвечает

Проверьте:
1. Правильность токена от BotFather
2. Что бот запущен и в терминале нет ошибок
3. Логи в терминале для понимания проблемы

### Ошибки от OpenRouter

Проверьте:
1. Правильность API ключа
2. Наличие средств на аккаунте OpenRouter (или free tier лимиты)
3. Модель `x-ai/grok-4-fast` доступна
